<!DOCTYPE html>
<html>
<head>
	<title>Image Recognition</title>

	<!-- <link rel="stylesheet" href="static/components/element-ui/index.css"> -->
	<link rel="stylesheet" href="https://unpkg.com/element-ui@2.12.0/lib/theme-chalk/index.css">
	<style type="text/css">
	.clearfix:before,
	.clearfix:after {
		display: table;
		content: "";
	}

	.clearfix:after {
		clear: both
	}
	</style>
</head>
<body>
	
	<div id="app-container">
		<el-row>
			<el-col>
				<div style="text-align: right;margin-bottom: 10px;">
					<el-button 
						type="info" 
						icon="el-icon-view" 
						@click="openHistory">历史</el-button>
					<el-button 
						type="primary" 
						icon="el-icon-upload" 
						@click="uploadVisible = true">上传</el-button>
					<el-button 
						type="success" 
						icon="el-icon-check" 
						:disabled="disableSave" 
						@click="saveData" 
						v-loading.fullscreen.lock="loading">保存</el-button>
				</div>
			</el-col>
		</el-row>

		<el-row 
			v-for="(rv, rind) in grids.rows" 
			:key="rv" 
			:gutter="5" 
			style="margin-bottom: 5px;">
			<el-col v-for="(cv, cind) in grids.cols" :key="rv + cv + ''" :span="grids.span">
				<el-card 
					v-if="rind * grids.cols + cind < metadatas.length" 
					:body-style="{ padding: '0px' }">
					<el-image 
						:src="getItem(rind, cind).filepath"
						fit="cover"
						lazy
						:preview-src-list="[getItem(rind, cind).filepath]"
						style="width: 300px; height: 300px; border: 3px solid green; border-radius: 5px;"></el-image>
					<div style="padding: 0px;">
				        <span>image </span>
				        <div class="bottom clearfix">
				          <time class="time">12</time>
				          <el-button type="text" class="button">操作按钮</el-button>
				        </div>
				      </div>
				</el-card>
			</el-col>
		</el-row>

		<el-dialog :visible.sync="uploadVisible" title="选择图片">
			<el-upload
				ref="upload"
				action="#"
				list-type="picture-card"
				:multiple="true"
				:auto-upload="false"
				:on-change="handleChange"
				:on-remove="handleRemove"
				:http-request="appendFile">
				<i class="el-icon-plus"></i>
			</el-upload>
			<span slot="footer" class="dialog-footer">
				<el-button @click="uploadVisible = false">取 消</el-button>
				<el-button type="primary" 
					@click="submitFile"
					:disabled="disableUpload"
					v-loading.fullscreen.lock="loading">确 定</el-button>
			</span>
		</el-dialog>
	</div>

</body>

	<script src="static/components/vue/vue.js"></script>
	<!-- <script src="static/components/element-ui/index.js"></script> -->
	<script src="https://unpkg.com/element-ui@2.12.0/lib/index.js"></script>
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script src="static/components/index.js"></script>
</html>
